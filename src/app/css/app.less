@global-margin 			: 3.6rem; 	// Global margin
@color-background 		: #fafbfc;	// Global Background Color
@color-foreground 		: #262524; 	// Global Foreground & Text Color
@color-primary 			: #de4d2d; 	// Links and Buttons Color
@color-neutral 			: #a0a0a0; 	// Neutral Grey

@mobile-breakpoint 		: 420;		// width to filter mobile devices
@desktop-breakpoint 	: 960; 		// width to fire desktop layout filtering

// --------------------------------------------
// Media Queries
@mobile 	: ~"all and (max-width: @{mobile-breakpoint}px)"; 	// Default
@non-mobile : ~"all and (min-width: @{mobile-breakpoint}px)"; 	// Matchs both @tablet and @desktop
@tablet 	: ~"all and (min-width: @{mobile-breakpoint}px) and (max-width: @{desktop-breakpoint}px)";
@desktop 	: ~"all and (min-width: @{desktop-breakpoint}px)";


// --------------------------------------------
// Global
html, body {
	margin: 0;
	padding: 0;
}
html {
	font-family: sans-serif;
	-ms-text-size-adjust: 100%;
	-webkit-text-size-adjust: 100%;
	box-sizing: border-box;
	font-size: 62.5%;
}
body {
	font-size: 1.6em;
	line-height: 1.5;
	background: @color-background;
	color: @color-foreground;
}
*, *:before, *:after {
	box-sizing: inherit;
}

// --------------------------------------------
// HTML5 display definitions
article, aside, details, figcaption, figure, footer, header, main, menu, nav, section {
	display: block;
}

// --------------------------------------------
// Links
a {
	background-color: transparent;
	text-decoration: none;
	color: @color-primary;
	border-bottom: solid transparent 1px;
}
a:active, a:hover {
	outline: 0;
	color: @color-foreground;
	border-bottom: solid @color-primary 1px;
}

// --------------------------------------------
// Text-level semantics
abbr[title], acronym[title] {
	border-bottom: 1px dotted;
	cursor: help;
}
b, strong {
	font-weight: bold;
}
dfn {
	font-style: italic;
}
mark {
	background: #ff0;
	color: #000;
}
small {
	font-size: 80%;
}
sub, sup {
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
}
sup { top: -0.5em; }
sub { bottom: -0.25em; }
blockquote {
	quotes: "\201C""\201D""\2018""\2019";
	&:before {
		color: @color-neutral;
		font-size: 4rem;
		line-height: 0.1em;
		padding: 0 .25rem;
	}
	&:before {
		content: open-quote;
		vertical-align: -1rem;
	}
	p { display: inline; }
}

// --------------------------------------------
// Embedded content
img {
	border: 0;
	display: block;
	margin: 0 0 @global-margin/2 0;
	padding: .5rem;
	border: solid lighten(@color-neutral, 20%) 1px;
	box-shadow: 0 2px 0 lighten(@color-neutral, 30%);
	max-width: 100%;
}

// --------------------------------------------
// Grouping content
figure {
	margin: 1em 4em;
}
hr {
	height: 0;
	margin: @global-margin 0;
	border: none;
	border-top: dotted lighten(@color-neutral, 20%) 1px;
}

// --------------------------------------------
// Forms
select {
	color: inherit;
	font: inherit;
	margin: 0 5px 5px 0;
	text-transform: none;

	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;

	background: #fff;
	display: inline-block;
	vertical-align: top;
	padding: .5rem 1rem;
	width: 100%;
	max-width: 17.5rem;
	height: 3rem;

	border: none;
	outline: 1px solid @color-primary;
	outline-offset: -1px;
	border-radius: 0;
	background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAPAQMAAAA1YcYVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkUxNzU1QTlBNzZDMTFFNUFFODhCOENCNDg0MUFBMjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkUxNzU1QUFBNzZDMTFFNUFFODhCOENCNDg0MUFBMjUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2RTE3NTVBN0E3NkMxMUU1QUU4OEI4Q0I0ODQxQUEyNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2RTE3NTVBOEE3NkMxMUU1QUU4OEI4Q0I0ODQxQUEyNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PszxATYAAAAGUExURczMzMzMzL4bSpkAAAABdFJOUwBA5thmAAAAPElEQVQI12MQYBBgsADCGiD8B4T1jH8Y7Jt/MMgf/8DA//4BA/v/AwzM/xsYGP8zMAClGYDKGIDKGYDaABK9EHmI0q4WAAAAAElFTkSuQmCC');
	background-repeat: no-repeat;
	background-size: 12px 8px;
	background-position: 96% 50%;
}
select:focus {
	border: none;
	outline: solid @color-primary 1px;
	outline-offset: -1px;
	border-radius: 0;
}



// --------------------------------------------
// Lists
ol, ul {
	padding: 0 0 0 @global-margin/2;
	margin: 0 0 @global-margin @global-margin/2;
	li { padding: 0; }
}
ul ul, ul ol, ol ol, ol ul {
	margin: .5rem @global-margin/4;
}
dl {
	dt dfn {
		font-style: normal;
	}
}

// --------------------------------------------
// Typography
body > * {
	font-size: 1.3rem;
	font-weight: 300;
}
h1, h2, h3, h4, h5, h6 {
	font-weight: 300;
}
h1 { font-size: 2.4rem; }
h2 { font-size: 2.0rem; }
h3 { font-size: 1.8rem; }
h4 { font-size: 1.6rem; }
h5 { font-size: 1.5rem; }
h6 { font-size: 1.4rem; }

// --------------------------------------------
// Pseudo-elements
::-moz-selection {
    background: #b3d4fc;
    text-shadow: none;
}
::selection {
    background: #b3d4fc;
    text-shadow: none;
}



// --------------------------------------------
// --------------------------------------------

// --------------------------------------------
// Pseudo Reset
h1, h2, h3, h4, h5, p, dl, dt, dd, ul, li {
	margin: 0;
	padding: 0;
}


html {
	font-family: 'Source Sans Pro', sans-serif !important;
}

#preload {
	position: absolute;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 100;
	background: @color-primary;

	p {
		position: absolute;
		top: 50%;
		left: 50%;
		color: lighten(@color-primary, 35%);
		width: 240px;
		margin-left: -120px;
		line-height: 18px;
		height: 60px;
		margin-top: -70px;
		text-align: center;
		font-weight: 200;
		font-size: 12px;
		strong {
			font-weight: 300;
			font-size: 14px;
			color: #fff;
		}
	}

	&:before, &:after {
		content: '';
		display: block;
		position: absolute;
		top: 50%;
		left: 50%;
		width: 40px;
		height: 40px;
		margin-top: 0;
		margin-left: -20px;
		background-color: #fff;
		border-radius: 100%;
		-webkit-transform: scale(0);
		transform: scale(0);
	}
	&:before {
		-webkit-animation: sk-scaleout 1.0s infinite ease-in .5s;
		animation: sk-scaleout 1.0s infinite ease-in .5s;
	}
	&:after {
		-webkit-animation: sk-scaleout 1.0s infinite ease-in;
		animation: sk-scaleout 1.0s infinite ease-in;
	}
}
@-webkit-keyframes sk-scaleout {
	0% { -webkit-transform: scale(0); }
	100% {
		-webkit-transform: scale(1.0);
		opacity: 0;
	}
}
@keyframes sk-scaleout {
	0% {
		-webkit-transform: scale(0);
		transform: scale(0);
	} 100% {
		-webkit-transform: scale(1.0);
		transform: scale(1.0);
		opacity: 0;
	}
}



header {
	background: @color-primary;
	padding: @global-margin/2 10px;
	margin: 0 0 @global-margin/2 0;

	#header {
		width: 90%;
		max-width: 540px;
		margin: 0 auto;
	}
	h1 {
		font-weight: 200;
		color: #fff;
		border-bottom: solid fade(#fff, 20%) 1px;
		margin-bottom: 10px;
		padding-bottom: 5px;
		text-shadow: 0 -1px 0 fade(#000, 15%);

		strong {
			font-weight: 600;
		}
		a, a:hover {
			color: #fff;
		}
	}
}

main, footer {
	width: 90%;
	max-width: 540px;
	margin: 0 auto;
}

dl#race-list {
	margin: 2rem auto;
	overflow: auto;
	padding: 0 0 0 60px;
	position: relative;

	dt {
		position: absolute;
		left: 0;
		margin-top: 5px;

		strong { display: none; }
		span {
			display: block;
			height: 50px;
			width: 40px;
			text-align: center;
			box-shadow: 0 1px 0 0 fade(#000, 5%);

			&:before {
				content: attr(data-month);
				display: block;
				height: 16px;
				line-height: 16px;
				font-size: 9px;
				font-weight: 400;
				background: @color-primary;
				color: #fff;
			}
			&:after {
				content: attr(data-day);
				display: block;
				font-size: 20px;
				font-weight: 100;
				height: 34px;
				line-height: 34px;
				letter-spacing: -1px;
				color: #666;
				background: #fff;
				border: solid #ddd 1px;
				border-top: none;
			}
		}
	}

	dd:first-of-type {
		border-top: dotted lighten(@color-neutral, 15%) 1px;
	}

	dd {
		overflow: auto;
		border-bottom: dotted lighten(@color-neutral, 15%) 1px;
		padding: 12px 0;


		h3 {
			float: left;
			font-size: 1.3rem;
			line-height: 18px;
			min-height: 36px;
			max-width: 60%;

			a {
				display: block;
				font-weight: 400;
				font-size: 1.5rem;
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
			}
			span {
				display: block;
				strong {
					font-weight: 400;
				}
			}
		}

		p {
			float: right;
			text-align: right;
			line-height: 18px;
			min-height: 36px;
			max-width: 40%;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;

			strong {
				font-weight: 600;
			}
			em {
				font-style: normal;
			}
		}

		@media @mobile {
			h3 {
				float: none;
				max-width: none;
			}
			p {
				float: none;
				text-align: left;
				max-width: none;
				min-height: 18px;
				br {
					display: none;
				}
				strong {
					display: inline-block;
					padding: 0 5px 0 0;
				}
			}
		}
	}
}

footer {
	padding: @global-margin/2 0 @global-margin 0;
	strong {
		font-weight: 600;
	}
}


div#modal-window {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 10;
	background: fade(@color-primary, 90%);

	-webkit-transform-style: preserve-3d;
	-moz-transform-style: preserve-3d;
	transform-style: preserve-3d;

	#modal-window-inner {
		position: relative;
		top: 50%;
		-webkit-transform: translateY(-50%);
		-ms-transform: translateY(-50%);
		transform: translateY(-50%);

		width: 70%;
		max-width: 480px;
		margin: 0 auto;
		background: #fff;
		padding: @global-margin;
		box-shadow:
			0 0 0 1px fade(#000, 5%),
			0 0 0 3px fade(#000, 5%),
			0 5px 30px 5px fade(#000, 25%)
		;

		h2 {
			font-size: 1.6rem;
			strong {
				font-weight: 400;
			}
		}
		h3, h4 {
			font-size: 1.5rem;
		}
		h4 {
			color: @color-neutral;
		}

		dl {
			margin: @global-margin/2 0 0 0;
		}
		dt {
			font-weight: 400;
		}
		dd {
			ul {
				list-style: square inside;
			}
		}

		div.current-item-distance {
			position: absolute;
			top: @global-margin;
			right: @global-margin;
			background: #fff;
			text-align: right;

			strong {
				font-size: 2.6rem;
				font-weight: 300;
				display: block;
				line-height: 1;
			}
			small {
				font-size: 10px;
				display: block;
				line-height: 1.4;
			}
		}

		div.current-item-close {
			font-size: 4.6rem;
			font-weight: 200;

			width: 40px;
			height: 40px;
			line-height: 40px;
			text-align: center;

			position: absolute;
			top: 0;
			right: -50px;

			a {
				color: #fff;
				border: none;
			}
			a:hover {
				color: #000;
			}
		}

	}

	&.hidden {}
	&.visible {}
}

.modal-transition {
	transition: all .3s ease;
	#modal-window-inner {
		transition: all .3s ease;
		top: 50% !important;
	}
}
.modal-enter, .modal-leave {
	opacity: 0;
	#modal-window-inner {
		top: 75% !important;
	}
}


.loading-transition {
	transition: all .5s ease;
}
.loading-enter, .loading-leave {
	opacity: 0;
}
